
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../../Figures/modularsmall.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.8">
    
    
      
        <title>New Controller - GUILDA Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.39b8e14a.min.css">
        
          
          
          <meta name="theme-color" content="#02a6f2">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,700%7C&display=fallback">
        <style>body,input{font-family:"Open Sans",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/notosansjp.css">
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:600,800">
    
      <link rel="stylesheet" href="https://unpkg.com/mermaid@8.0.0/dist/mermaid.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="light-blue">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#new_controller" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../.." title="GUILDA Documentation" class="md-header-nav__button md-logo" aria-label="GUILDA Documentation">
      
  <img src="../../../Figures/modularsmall.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            GUILDA Documentation
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              New Controller
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link md-tabs__link--active">
        Top
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="GUILDA Documentation" class="md-nav__button md-logo" aria-label="GUILDA Documentation">
      
  <img src="../../../Figures/modularsmall.png" alt="logo">

    </a>
    GUILDA Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1" checked>
      
      <label class="md-nav__link" for="nav-1">
        Top
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Top" data-md-level="1">
        <label class="md-nav__title" for="nav-1">
          <span class="md-nav__icon md-icon"></span>
          Top
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../SetEnvironment/0TopPage/" class="md-nav__link">
        GUILDA Setup
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../aboutPowerSystem/0TopPage/" class="md-nav__link">
        Power System Model (Simple)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../SeriesAnalysis/0TopPage/" class="md-nav__link">
        Guided Example
      </a>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1-5" type="checkbox" id="nav-1-5" checked>
      
      <label class="md-nav__link" for="nav-1-5">
        Guilda in Detail
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Guilda in Detail" data-md-level="2">
        <label class="md-nav__title" for="nav-1-5">
          <span class="md-nav__icon md-icon"></span>
          Guilda in Detail
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../0TopPage/" class="md-nav__link">
        Guilda in Detail
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1-5-2" type="checkbox" id="nav-1-5-2" >
      
      <label class="md-nav__link" for="nav-1-5-2">
        Power System Model (Detailed)
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Power System Model (Detailed)" data-md-level="3">
        <label class="md-nav__title" for="nav-1-5-2">
          <span class="md-nav__icon md-icon"></span>
          Power System Model (Detailed)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../defineNet/0TopPage/" class="md-nav__link">
        Power System Model (Detailed)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../defineNet/NewPowerNetwork/" class="md-nav__link">
        New Power System Model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../defineNet/NewComponent/" class="md-nav__link">
        New Components
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1-5-3" type="checkbox" id="nav-1-5-3" checked>
      
      <label class="md-nav__link" for="nav-1-5-3">
        Controllers
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Controllers" data-md-level="3">
        <label class="md-nav__title" for="nav-1-5-3">
          <span class="md-nav__icon md-icon"></span>
          Controllers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../0TopPage/" class="md-nav__link">
        Controllers
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          New Controller
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        New Controller
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the_controller_class" class="md-nav__link">
    The Controller Class
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define_a_new_controller" class="md-nav__link">
    Define a New Controller
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abstract_methods" class="md-nav__link">
    Abstract Methods
  </a>
  
    <nav class="md-nav" aria-label="Abstract Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required_arguments" class="md-nav__link">
    Required Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required_abstract_methods" class="md-nav__link">
    Required Abstract Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended_abstract_methods" class="md-nav__link">
    Recommended Abstract Methods
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1-5-4" type="checkbox" id="nav-1-5-4" >
      
      <label class="md-nav__link" for="nav-1-5-4">
        Numerical Simulations
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Numerical Simulations" data-md-level="3">
        <label class="md-nav__title" for="nav-1-5-4">
          <span class="md-nav__icon md-icon"></span>
          Numerical Simulations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../Analysis/net_simulate/" class="md-nav__link">
        Simulating
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../Analysis/SampleCode/" class="md-nav__link">
        Simulation Examples
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../Analysis/net_getsys/" class="md-nav__link">
        Derivation of a Linearized Model
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1-6" type="checkbox" id="nav-1-6" >
      
      <label class="md-nav__link" for="nav-1-6">
        Source Code Explanation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Source Code Explanation" data-md-level="2">
        <label class="md-nav__title" for="nav-1-6">
          <span class="md-nav__icon md-icon"></span>
          Source Code Explanation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../SourceCode/0TopPage/" class="md-nav__link">
        Source Code Explanation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../SourceCode/power_network/" class="md-nav__link">
        Power Network Class
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../SourceCode/NetProperties/" class="md-nav__link">
        Power Network Class - Properties
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../SourceCode/branch/" class="md-nav__link">
        Branch Class
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../SourceCode/bus/" class="md-nav__link">
        Bus Class
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../SourceCode/component/" class="md-nav__link">
        Component Class
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../SourceCode/controller/" class="md-nav__link">
        Controller Class
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the_controller_class" class="md-nav__link">
    The Controller Class
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#define_a_new_controller" class="md-nav__link">
    Define a New Controller
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abstract_methods" class="md-nav__link">
    Abstract Methods
  </a>
  
    <nav class="md-nav" aria-label="Abstract Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required_arguments" class="md-nav__link">
    Required Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required_abstract_methods" class="md-nav__link">
    Required Abstract Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recommended_abstract_methods" class="md-nav__link">
    Recommended Abstract Methods
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <p><img src="../../../Figures/make_controller.jpg" width=100%;></p>
<h1 id="new_controller"><div style="text-align: center;"><span style="font-size: 140%; color: black; font-weight: bold">New Controller</span></div><a class="headerlink" href="#new_controller" title="Permanent link">&para;</a></h1>
<p>This section explains how to define a new controller model in GUILDA. The methods and properties that should be implemented are summarized in this section.</p>
<p>Creating a new controller model in GUILDA means creating an "m-file" that defines a new child class from the controller class. This page explains how to define this child class file.</p>
<p><strong>Contents:</strong></p>
<ul>
<li><a href="#the_controller_class">The Controller Class.</a></li>
<li><a href="#define_a_new_controller">Define a New Controller.</a></li>
<li><a href="#abstract_methods">Abstract Methods.</a></li>
<li><a href="#required_arguments">Required Arguments</a></li>
<li><a href="#required_abstract_methods">Required Abstract Methods.</a></li>
<li><a href="#recommended_abstract_methods">Recommended Abstract Methods.</a></li>
</ul>
<hr />
<h2 id="the_controller_class"><div style="text-align: center;"><span style="font-size: 120%; color: black; font-weight: bold">The Controller Class</span></div><a class="headerlink" href="#the_controller_class" title="Permanent link">&para;</a></h2>
<p>The controller class defines several functions that should be provided in a controller model for analysis. By inheriting the properties from the already defined controller class in GUILDA, newly created controllers will automatically have these functions.</p>
<p>However, even though several functions are inherited from the controller class, still other functions are required to define the controller's algorithm. Such functions should be added to the controller instance as abstract methods.</p>
<p>Fore more information on the source code of the controller class, please refer to <a href="../../../SourceCode/0TopPage/">Source Code Explanation</a>.</p>
<hr />
<h2 id="define_a_new_controller"><div style="text-align: center;"><span style="font-size: 120%; color: black; font-weight: bold">Define a New Controller</span></div><a class="headerlink" href="#define_a_new_controller" title="Permanent link">&para;</a></h2>
<p>In this page, a new controller named "myController.m" will be created and used as an example of the process of defining a new controller.</p>
<p><em>Note: When creating a new controller, it is recommended that a description and how to execute the newly defined controller is included as a comment at the beginning.</em></p>
<p>The general process to create a new controller class is</p>
<ol>
<li>
<p>Inherit the functions from the already defined controller class. To do this use the code myController &lt; controller.</p>
</li>
<li>
<p>Define the required arguments of the new controller as variables of properties (usually, target bus, and observable bus). For more information go to "required arguments".</p>
</li>
<li>
<p>Define the required functions as methods that define the control algorithm of the new controller.</p>
</li>
</ol>
<p>The following code block shows the general structure of these 3 requirements as sections.</p>
<p><strong>myController.m</strong></p>
<div class="highlight"><pre><span></span><code><span class="c">%Definition of new controller class as a child class.</span>
<span class="k">classdef</span> <span class="n">myController</span> <span class="o">&lt;</span> <span class="n">controller</span>

<span class="c">%Description of the controller to be implemented.</span>
<span class="c">%Explanation of state variables, inputs, and outputs.</span>
<span class="c">%Description on how to execute the constructor of this class and set its arguments.</span>

    <span class="n">properties</span>
        <span class="s">%Define</span> <span class="s">the</span> <span class="s">necessary</span> <span class="s">parameters</span> <span class="s">here.</span>
    <span class="n">end</span>

    <span class="s">methods</span>
        <span class="c">%Define the methods here.</span>
<span class="k">        function</span><span class="w"> </span>obj<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">myController</span><span class="p">(</span>arg1,arg2,...<span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="c">%Write the code.</span>
        <span class="n">end</span>

        <span class="s">%Required</span> <span class="s">method:</span> <span class="s">Controller</span> <span class="s">State</span> <span class="s">Derivative.</span>
<span class="k">        function</span><span class="w"> </span><span class="nf">[dx, u] = get_dx_u</span><span class="p">(</span>obj, x, X, V, I, U_global<span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="c">%Write the code.</span>
        <span class="n">end</span>

        <span class="s">%Required</span> <span class="s">method:</span> <span class="s">Controller</span> <span class="s">State</span> <span class="s">Order.</span>
<span class="k">        function</span><span class="w"> </span>nx<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">get_nx</span><span class="p">(</span>obj<span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="c">%Write the code.</span>
        <span class="n">end</span>


        <span class="s">%Recommended</span> <span class="s">method:</span> <span class="s">Approximate</span> <span class="s">Linearization.</span>
<span class="k">        function</span><span class="w"> </span><span class="nf">[A, BX, BV, BI, Bu, C, DX, DV, DI, Du] = get_linear_matrix</span><span class="p">(</span>obj<span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="c">%Write the code.</span>
        <span class="n">end</span>

        <span class="s">%Recommended</span> <span class="s">method:</span> <span class="s">Linear</span> <span class="s">Controller</span> <span class="s">State</span> <span class="s">Derivation.</span>
<span class="k">        function</span><span class="w"> </span><span class="nf">[dx, u] = get_dx_u_linear</span><span class="p">(</span>obj, t, x, X, V, U_global<span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="c">%Write code here.</span>
        <span class="n">end</span>
    <span class="s">end</span>
<span class="k">end</span>
</code></pre></div>
<hr />
<h2 id="abstract_methods"><div style="text-align: center;"><span style="font-size: 120%; color: black; font-weight: bold">Abstract Methods</span></div><a class="headerlink" href="#abstract_methods" title="Permanent link">&para;</a></h2>
<p>The abstract methods are the set of required functions to define the behaviour of the controller. In this section the two required arguments, one required method, along with three recommended methods to be included are explained.</p>
<h3 id="required_arguments"><div style="text-align: left;"><span style="font-size: 100%; color: black; font-weight: bold">Required Arguments</span></div><a class="headerlink" href="#required_arguments" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>idx_input</code>: Busbar number to which the output signal of the controller (i.e., the input signal to the system) are applied.</p>
</li>
<li>
<p><code>idx_observe</code>: Busbar number observed by the controller.</p>
</li>
</ul>
<h3 id="required_abstract_methods"><div style="text-align: left;"><span style="font-size: 100%; color: black; font-weight: bold">Required Abstract Methods</span></div><a class="headerlink" href="#required_abstract_methods" title="Permanent link">&para;</a></h3>
<p><strong>Controller State Derivative</strong></p>
<p>This method is used to obtain the derivative of the controller state <span class="arithmatex">\(\small (x)\)</span>; and the output signal <span class="arithmatex">\((\small u)\)</span> (i.e., the input signal to the system).</p>
<p>Class Structure: <code>[dx, u] = get_dx_u(obj, x, X, V, I, U_global)</code></p>
<p><em>Note: The following notation is different to the ones used in other classes, e.g., Component class.</em></p>
<p>Input Arguments</p>
<ul>
<li>
<p><code>x</code>：Controller state <span class="arithmatex">\(\small (x)\)</span>.</p>
</li>
<li>
<p><code>X</code>：State of the Device connected to each bus <span class="arithmatex">\(\small (X)\)</span>.</p>
</li>
<li>
<p><code>V</code>：Busbar Voltage <span class="arithmatex">\(\small (V)\)</span> ([real part; imaginarty part]).</p>
</li>
<li>
<p><code>I</code>：Busbar Current <span class="arithmatex">\(\small (I)\)</span> ([real part; imaginarty part]).</p>
</li>
<li>
<p><code>U_global</code>： Input signals applied to each bus by the global controller <span class="arithmatex">\(\small (U)\)</span>.</p>
</li>
</ul>
<p>The controller model can only observe the above parameters. Therefore, even if there are other physical quantities required, they will have to be calculated on their own from the values of the arguments.</p>
<p>Output Parameters</p>
<ul>
<li>
<p><code>dx</code>：Dertivative of the controller state <span class="arithmatex">\(\small (\dot{x})\)</span>.</p>
</li>
<li>
<p><code>u</code>：Output signal of the controller (i.e., input signal to the system) <span class="arithmatex">\(\small (u)\)</span>.</p>
</li>
</ul>
<p><em>Note:</em></p>
<ul>
<li>
<p><em>The controller class is commonly inherited by the global controller, retrofit controller, and other controllers. Therefore, when creating a distributed controller, it is necessary to explicitly write which signals may be referenced and which signals may not be referenced, in the derived class.</em></p>
</li>
<li>
<p><em>It is not possible to reference the state of other controllers. If communication between controllers is required, they must be implemented as a single controller.</em></p>
</li>
</ul>
<p><strong>Controller State Order</strong></p>
<p>This method is used to obtain the order (dimension) of the controller state.</p>
<p>Class Structure:<code>nx = get_nx(obj)</code></p>
<p>Input Arguments</p>
<ul>
<li><em>None</em></li>
</ul>
<p>Output Parameters</p>
<ul>
<li><code>nx</code>: Oder of the controller state.</li>
</ul>
<h3 id="recommended_abstract_methods"><div style="text-align: left;"><span style="font-size: 100%; color: black; font-weight: bold">Recommended Abstract Methods</span></div><a class="headerlink" href="#recommended_abstract_methods" title="Permanent link">&para;</a></h3>
<p>The newly defined controller can be implemented without the following methods; however, these are necessary for performing analysis with an approximate linearization of the power system model.</p>
<p><strong>Linearized Controller</strong></p>
<p>This method is used to obtained a linearized controller that complies with the following expressions</p>
<div class="arithmatex">\[
   \dot{x}=Ax+B_X (X-X^*)+B_V (V-V^*)+B_I (I-I^*)+B_u U_{global}
\]</div>
<div class="arithmatex">\[
   u=Cx+D_X (X-X^*)+D_V (V-V^*)+D_I (I-I^*)+D_u U_{global}
\]</div>
<p><em>Note: The terms marked with "<span class="arithmatex">\(*\)</span>" (e.g., <span class="arithmatex">\(X^*\)</span>), correspond to the equilibrium point of such property.</em></p>
<p>Class Structure: <code>[A, BX, BV, BI, Bu, C, DX, DV, DI, DU] = get_linear_matrix(obj)</code></p>
<p>Input Arguments</p>
<ul>
<li><code>obj</code>: The nonlinear controller.</li>
</ul>
<p>Output Arguments</p>
<ul>
<li>
<p><code>A</code>：A matrix of controllers.</p>
</li>
<li>
<p><code>BX</code>：B matrix of the controller (regarding the stacked vector of bus states to be observed).</p>
</li>
<li>
<p><code>BV</code>：B matrix of the controller (regarding the stacked vector of voltages on all buses).</p>
</li>
<li>
<p><code>BI</code>：B matrix of the controller (regarding the stacked vector of currents on all buses).</p>
</li>
<li>
<p><code>Bu</code>：B matrix of the controller (regarding the stacked vector of input signals to all buses generated by the global controller).</p>
</li>
<li>
<p><code>C</code>：C matrix of controller.</p>
</li>
<li>
<p><code>DX</code>：D matrix of the controller (with respect to the bus state vector to be observed).</p>
</li>
<li>
<p><code>DV</code>：D matrix of the controller (regarding the stacked vector of voltages on all buses).</p>
</li>
<li>
<p><code>DI</code>：D matrix of the controller (regarding the stacked vector of currents on all buses).</p>
</li>
<li>
<p><code>Du</code>：D matrix of the controller (regarding the stacked vector of input signals to all buses generated by the global controller).</p>
</li>
</ul>
<p><strong>Linear Controller State Derivation</strong></p>
<p>This method is used to obtain the derivative of the state <span class="arithmatex">\(\small (\dot{x})\)</span> of the linearized controller, as well as its input <span class="arithmatex">\(\small (u)\)</span>.</p>
<p>Class Structure: <code>[dx, u] = get_dx_u_linear(obj, t, x, X, V, U_global)</code></p>
<p>Input Arguments</p>
<ul>
<li>
<p><code>t</code>: Time <span class="arithmatex">\(\small (t)\)</span>.</p>
</li>
<li>
<p><code>x</code>：Controller state <span class="arithmatex">\(\small (x)\)</span>.</p>
</li>
<li>
<p><code>X</code>：State of the Device connected to each bus <span class="arithmatex">\(\small (X)\)</span>.</p>
</li>
<li>
<p><code>V</code>：Busbar Voltage <span class="arithmatex">\(\small (V)\)</span> ([real part; imaginarty part]).</p>
</li>
<li>
<p><code>I</code>：Busbar Current <span class="arithmatex">\(\small (I)\)</span> ([real part; imaginarty part]).</p>
</li>
<li>
<p><code>U_global</code>： Input signals applied to each bus by the global controller <span class="arithmatex">\(\small (U)\)</span>.</p>
</li>
</ul>
<p>The controller model can only observe the above parameters. Therefore, even if there are other physical quantities required, they will have to be calculated on their own from the values of the arguments.</p>
<p>Output Parameters</p>
<ul>
<li>
<p><code>dx</code>：Dertivative of the controller state <span class="arithmatex">\(\small (\dot{x})\)</span>.</p>
</li>
<li>
<p><code>u</code>：Output signal of the controller (i.e., input signal to the system) <span class="arithmatex">\(\small (u)\)</span>.</p>
</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../0TopPage/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Controllers
              </div>
            </div>
          </a>
        
        
          <a href="../../Analysis/net_simulate/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Simulating
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright © 2020- Tokyo Tech, Ishizaki Lab.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/vendor.18f0862e.min.js"></script>
      <script src="../../../assets/javascripts/bundle.994580cf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../../..",
          features: ['navigation.tabs', 'content.code.annotate'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="https://unpkg.com/mermaid@8.0.0/dist/mermaid.min.js"></script>
      
    
  </body>
</html>